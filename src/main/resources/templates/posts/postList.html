<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header"/>
<body>
<div class="container">
  <div th:replace="fragments/bodyHeader :: bodyHeader"/>
  <div>
<!--    <div>-->
<!--      <form th:object="${orderSearch}" class="form-inline">-->
<!--        <div class="form-group mb-2">-->
<!--          <input type="text" th:field="*{memberName}" class="formcontrol" placeholder="회원명"/>-->
<!--        </div>-->
<!--        <div class="form-group mx-sm-1 mb-2">-->
<!--          <select th:field="*{orderStatus}" class="form-control">-->
<!--            <option value="">주문상태</option>-->
<!--            <option th:each=-->
<!--                            "status : ${T(jpabook.jpashop.domain.OrderStatus).values()}"-->
<!--                    th:value="${status}"-->
<!--                    th:text="${status}">option-->
<!--            </option>-->
<!--          </select>-->
<!--        </div>-->
<!--        <button type="submit" class="btn btn-primary mb-2">검색</button>-->
<!--      </form>-->
<!--    </div>-->
    <table class="table table-striped">
      <thead>
      <tr>
        <th>게시글번호</th>
        <th>작성자</th>
        <th>제목</th>
        <th>카테고리</th>
        <th>조회수</th>
        <th>좋아요 수</th>
        <th>작성일</th>
        <th>수정</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="post : ${paging}"> 
        <td th:text="${post.id}"></td>
        <td th:text="${post.authorName}"></td>
        <td><a th:text="${post.title}" th:href="@{/posts/{id} (id=${post.id})}"></a></td>
        <td th:text="${post.category}"></td>
        <td th:text="${post.viewCount}"></td>
        <td th:text="${post.likeCount}"></td>
        <td th:text="${post.createDate}"></td>
        <td><a th:href="@{/posts/{id}/edit (id=${post.id})}" role="button">수정</a></td>
      </tr>
      </tbody>
    </table>

    <!-- 페이징처리 시작 -->
    <div th:if="${!paging.isEmpty()}">
      <ul class="pagination justify-content-center">
        <li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
          <a class="page-link"
             th:href="@{|?page=${paging.number-1}|}">
            <span>이전</span>
          </a>
        </li>
        <li th:each="page: ${#numbers.sequence(0, paging.totalPages-1)}"
            th:classappend="${page == paging.number} ? 'active'"
            class="page-item">
          <a th:text="${page + 1}" class="page-link" th:href="@{|?page=${page}|}"></a>
        </li>
        <li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
          <a class="page-link" th:href="@{|?page=${paging.number+1}|}">
            <span>다음</span>
          </a>
        </li>
      </ul>
    </div>
    <!-- 페이징처리 끝 -->
  </div>
  <div th:replace="fragments/footer :: footer"/>
</div> <!-- /container -->
</body>
<!--<script>-->
<!--  function cancel(id) {-->
<!--    var form = document.createElement("form");-->
<!--    form.setAttribute("method", "post");-->
<!--    form.setAttribute("action", "/orders/" + id + "/cancel");-->
<!--    document.body.appendChild(form);-->
<!--    form.submit();-->
<!--  }-->
<!--</script>-->
</html>